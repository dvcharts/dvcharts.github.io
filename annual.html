<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,shrink-to-fit=no,initial-scale=1"><meta name="description" content="Charts showing DV Lottery visas issued annually"><meta name="author" content="Xarthisius"><title>Annual Immigrant Visa Issuances by Foreign State of Chargeability or Place of Birth</title><!-- Custom CSS --><link href="css/simple-sidebar.min.css" rel="stylesheet"><!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --><!-- WARNING: Respond.js doesn't work if you view the page via file:// --><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><link rel="stylesheet" href="css/jquery-ui.min.css"><link rel="stylesheet" href="css/bootstrap.min.css"><link rel="stylesheet" href="css/dataTables.bootstrap.min.css"><script src="js/jquery.min.js"></script><script src="js/jquery-ui.min.js"></script><script src="js/bootstrap.min.js"></script><script src="js/jquery.dataTables.min.js"></script><script src="js/dataTables.bootstrap.min.js"></script><script src="js/Chart.bundle.min.js"></script><!-- Google Analytics --><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-105715213-1","auto"),ga("send","pageview");</script><script async src="https://www.google-analytics.com/analytics.js"></script><!-- End Google Analytics --><style>canvas {
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;
    }</style></head><body><div id="wrapper"><!-- Sidebar --><div id="sidebar-wrapper"><ul class="sidebar-nav"><li class="sidebar-brand"><a href="/index.html">DV Lottery Charts</a></li><li><a href="/issuances.html#">Monthly IV Issuances</a></li><li><a href="#">Annual IV Issuances</a></li><li><a href="/ceacFY15.html">DV-2015 CEAC Data</a></li><li><a href="/ceacFY17.html">DV-2017 CEAC Data</a></li><li><a href="/ceacFY18.html">DV-2018 CEAC Data</a></li><li><a href="/ceacFY19.html">DV-2019 CEAC Data</a></li><li><a href="/ceacFY20.html">DV-2020 CEAC Data</a></li><li class="sidebar-brand">Contact:</li><li><a href="mailto:dvcharts@xarthisius.xyz">dvcharts@xarthisius.xyz</a></li></ul></div><!-- /#sidebar-wrapper --><!-- Page Content --><div id="page-content-wrapper"><div class="container-fluid"><a href="#menu-toggle" class="btn btn-primary" id="menu-toggle">Toggle Menu</a><div class="row"><div class="col-lg-12"><h2>Annual Immigrant Visa (IV) Issuances</h2><p>Data was obtained from the <a href="https://travel.state.gov/content/travel/en/legal/visa-law0/visa-statistics.html">U.S. Department of State</a>.</p><p></p><div class="resizing-input" style="text-align: left;  margin: auto; display: inline-block"><label for="currentFY">Currently showing statistics for</label> <input type="text" id="currentFY" readonly="readonly" style="border:0; color:#f6931f; font-weight:bold; margin: auto;"> <span style="display:none; border:0; font-weight:bold; margin: auto;"></span></div><div class="resizing-input" style="text-align: left;  margin: auto; display: inline-block;"><label for="currentREG">Region:</label> <input type="text" id="currentREG" readonly="readonly" style="border:0; color:#f6931f; font-weight:bold; margin: auto;"> <span style="display:none; border:0; font-weight:bold; margin: auto;"></span></div><div class="resizing-input" style="text-align: left;  margin: auto; display: inline-block;"><label for="currentCNT">Country:</label> <input type="text" id="currentCNT" readonly="readonly" style="border:0; color:#f6931f; font-weight:bold; margin: auto;"> <span style="display:none; border:0; font-weight:bold; margin: auto;"></span></div><p></p><p>If you would like to see information for a different fiscal year, region or country please use the dropdowns below.</p><div class="dropdown" style="display: inline-block;"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Choose FY <span class="caret"></span></button><ul class="dropdown-menu" id="FYSelector"></ul></div><div class="dropdown" style="display: inline-block;"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Choose Region <span class="caret"></span></button><ul class="dropdown-menu" id="RegSelector"></ul></div><div class="dropdown" style="display: inline-block;"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">Choose Country <span class="caret"></span></button><ul class="dropdown-menu" id="CountrySelector" style="width: 300px !important;"><li><ul class="list-unstyled col-sm-6" id="CSelectLeft"></ul><ul class="list-unstyled col-sm-6" id="CSelectRight"></ul></li></ul></div><div class="chart-container" style="position: relative; height: 50vh;"><canvas id="canvas"></canvas></div></div></div></div></div><script>function resizeForText(e){var a=$(this);e.trim()||(e=a.val().trim());var t=a.parent().find("span");t.text(e);var r=t.width();a.css("width",r),a.css("margin-left","5px"),a.css("margin-right","5px")}function _setDropdown(e,a,t,r,s){$(a).empty(),Object.keys(e).forEach(function(e){if("labels"===e)return!0;$(a).append('<li><a href="#">'+e+"</a></li>")});var i=Object.keys(e);if("labels"===i[0])var n=i[1];else if(s)var n=i[i.length-1];else var n=i[0];$(t).val(n),resizeForText.call($(t),n),r&&r(e[$(t).val()]),$(a+" li").on("click",function(a){$(t).val($(this).text()),resizeForText.call($(t),n),r&&r(e[$(this).text()]),updateChart()})}function setCountryDropdown(e){$("#CSelectLeft").empty(),$("#CSelectRight").empty();var a=Object.keys(e).length/2,t=0;for(var r in e)t<a?$("#CSelectLeft").append('<li><a href="#">'+r+"</a></li>"):$("#CSelectRight").append('<li><a href="#">'+r+"</a></li>"),t+=1;var s=Object.keys(e),i=s[s.length-1];$("#currentCNT").val(i),resizeForText.call($("#currentCNT"),i),$("#CSelectLeft li").on("click",function(e){$("#currentCNT").val($(this).text()),resizeForText.call($("#currentCNT"),$(this).text()),updateChart()}),$("#CSelectRight li").on("click",function(e){$("#currentCNT").val($(this).text()),resizeForText.call($("#currentCNT"),$(this).text()),updateChart()})}function getData(){var e=JSON.parse(sessionStorage.getItem("annual")),a=$("#currentFY").val(),t=$("#currentREG").val(),r=$("#currentCNT").val(),s=e[a][t][r].mval,i=e[a][t][r].mcum,n=e[a].labels,o=n[n.length-1],l=o.split(" ")[0],c=parseInt(o.split(" ")[1]);switch(l){case"January":;break;case"February":;break;case"March":;break;case"April":;break;case"May":;break;case"June":;break;case"July":;break;case"August":;break;case"September":;break;case"October":;break;case"November":;break;case"December":;c+=1}switch(t){case"All":var d=55e3,p=1e4,u=5e3;break;case"AF":var d=24e3,p=5e3,u=2e3;break;case"AS":var d=9e3,p=1500,u=1e3;break;case"EU":var d=2e4,p=3500,u=2e3;break;case"NA":var d=10,p=10,u=5;break;case"OC":var d=1e3,p=150,u=200;break;case"SA":var d=1500,p=300,u=300}return"All countries"!==r&&(d=Math.max.apply(null,i),p=Math.max.apply(null,s),u=0),{data:{labels:e[a].labels,datasets:[{label:"Visas issued per month",borderColor:window.chartColors.red,backgroundColor:window.chartColors.red,fill:!1,steppedLine:!0,data:s,yAxisID:"y-axis-1"},{label:"Cumulative sum of visas issued",borderColor:window.chartColors.blue,backgroundColor:window.chartColors.blue,steppedLine:!0,fill:!1,data:i,yAxisID:"y-axis-2"}]},options:{totalMax:d,monthlyMax:p,stepSize:u}}}function updateChart(){data=getData(),window.myLine.data=data.data,window.myLine.options.scales.yAxes[0].ticks.max=data.options.monthlyMax,window.myLine.options.scales.yAxes[1].ticks.max=data.options.totalMax,window.myLine.options.scales.yAxes[1].ticks.stepSize=data.options.stepSize,window.myLine.update()}function setRegionDropdown(e){_setDropdown(e,"#RegSelector","#currentREG",setCountryDropdown,!1)}function setFYDropdown(e){_setDropdown(e,"#FYSelector","#currentFY",setRegionDropdown,!0)}window.chartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"},window.onload=function(){var e=$.getJSON("/data/annual.json"),a=document.getElementById("canvas").getContext("2d");e.done(function(e){sessionStorage.setItem("annual",JSON.stringify(e)),setFYDropdown(e);var t=getData();window.myLine=new Chart(a,{type:"bar",data:t.data,options:{responsive:!0,maintainAspectRatio:!1,hoverMode:"index",stacked:!1,title:{display:!0,text:"Number of DV visas issued as function of time"},tooltips:{position:"average",mode:"index",intersect:!1},scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{min:0,max:t.options.monthlyMax},scaleLabel:{display:!0,labelString:"Number of visas issued per month"}},{type:"linear",display:!0,position:"right",id:"y-axis-2",scaleLabel:{display:!0,labelString:"Cumulative number of visas issued"},ticks:{min:0,max:t.options.totalMax,stepSize:t.options.stepSize},gridLines:{drawOnChartArea:!1}}]}}})})};</script><!-- Menu Toggle Script --><script>$("#menu-toggle").click(function(e){e.preventDefault(),$("#wrapper").toggleClass("toggled")});</script></div></body></html>
